(this.webpackJsonpsplitbills=this.webpackJsonpsplitbills||[]).push([[0],{10:function(e,t,a){e.exports=a(18)},15:function(e,t,a){},16:function(e,t,a){},18:function(e,t,a){"use strict";a.r(t);var n=a(0),s=a.n(n),o=a(9),r=a.n(o),l=(a(15),a(2)),c=a(3),i=a(5),u=a(4),m=(a(16),a(7)),d=a(6),p=a(1),b=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).handleChange=function(e){if(["name","value"].includes(e.target.className)){var t=Object(d.a)(n.state.persons);t[e.target.dataset.id][e.target.className]=e.target.value.charAt(0).toUpperCase()+e.target.value.slice(1),n.setState({persons:t},(function(){return console.log(n.state.persons)}))}else n.setState(Object(m.a)({},e.target.name,e.target.value.charAt(0).toUpperCase()+e.target.value.slice(1)))},n.addPerson=function(e){n.setState((function(e){return{persons:[].concat(Object(d.a)(e.persons),[{name:"",value:""}])}}))},n.handleSubmit=function(e){e.preventDefault()},n.changeSubmit=function(e){console.log("submit",n.state.submit),e.preventDefault(),n.setState({submit:!n.state.submit,value:!1})},n.state={submit:!1,value:!0,payments:{ana:91.55,diogo:12,fabio:0,joao:36.98,lourenco:49.44,sanil:0,sofia:0},persons:[{name:"",value:""}]},n.addPerson=n.addPerson.bind(Object(p.a)(n)),n.removePerson=n.removePerson.bind(Object(p.a)(n)),n.handleSubmit=n.handleSubmit.bind(Object(p.a)(n)),n.handleChange=n.handleChange.bind(Object(p.a)(n)),n.changeSubmit=n.changeSubmit.bind(Object(p.a)(n)),n}return Object(c.a)(a,[{key:"splitPayments",value:function(){var e=this.state.persons.reduce((function(e,t){return Object.assign(e,Object(m.a)({},t.name,parseFloat(t.value,10)))}),{});console.log("object",e),console.log("object payments",this.state.payments);for(var t,a=Object.keys(e),n=Object.values(e).reduce((function(e,t){return t+e}))/a.length,o=a.sort((function(t,a){return e[t]-e[a]})),r=o.map((function(t){return e[t]-n})),l=0,c=o.length-1,i=[],u=[],p=[];l<c;)t=Math.min(-r[l],r[c]),r[l]+=t,r[c]-=t,console.log("".concat(o[l]," owes ").concat(o[c]," ").concat(t.toFixed(2)," \u20ac")),i[l]="".concat(o[l]," owes ").concat(o[c]," ").concat(t.toFixed(2)," \u20ac"),u[c]="".concat(o[l]," owes ").concat(o[c]," ").concat(t.toFixed(2)," \u20ac"),0===r[l]&&l++,0===r[c]&&c--;var b=i.concat(u),h=(p=Object(d.a)(new Set(b))).filter((function(e){return e}));console.log("result string",p),console.log("result result string",h);var v=h.sort().map((function(e,t){return s.a.createElement("li",{style:{listStyleType:"none"},key:t},e)}));return s.a.createElement("div",{className:"result-display"},s.a.createElement("img",{src:"./money-black.svg",alt:"Money exchange logo",style:{width:"35px",marginBottom:"10px"}}),v)}},{key:"removePerson",value:function(e){var t=this.state.persons;t.splice(e,1),this.setState({person:t})}},{key:"render",value:function(){var e=this,t=this.state.persons;return s.a.createElement(s.a.Fragment,null,s.a.createElement("div",{className:"maincard"},s.a.createElement("form",{onSubmit:this.handleSubmit,onChange:this.handleChange},s.a.createElement("button",{className:"add-user-button",disabled:!this.state.value,onClick:this.addPerson},s.a.createElement("span",null,s.a.createElement("img",{src:"./add-user-button.svg",alt:"Add Person",style:{width:"25px"}}))," ",s.a.createElement("span",null,"Add new person")),t.map((function(a,n){var o="person-".concat(n),r="value-".concat(n);return s.a.createElement("div",{key:n},s.a.createElement("label",{htmlFor:o},"Person #".concat(n+1)),s.a.createElement("input",{type:"text",name:o,"data-id":n,id:o,value:t[n].name,className:"name",style:{paddingLeft:"8px"}}),s.a.createElement("label",{htmlFor:r},"Value"),s.a.createElement("input",{type:"text",name:r,"data-id":n,id:r,value:t[n].value,className:"value",style:{paddingLeft:"8px"}}),n>0&&s.a.createElement("button",{className:"remove-user-button",onClick:function(){return e.removePerson(n)}},"Remove person"))})),s.a.createElement("input",{className:"submit-button",type:"submit",value:"Submit",onClick:this.changeSubmit})),!0===this.state.submit&&this.splitPayments()))}}]),a}(n.Component),h=function(e){Object(i.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={},n}return Object(c.a)(a,[{key:"render",value:function(){return s.a.createElement("div",null,s.a.createElement("div",{style:{textAlign:"center",padding:"50px 0px 50px 0px"}},s.a.createElement("img",{src:"./splitbills.png",alt:"Split Bills Logo",width:"250"})),s.a.createElement(b,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(17);r.a.render(s.a.createElement(s.a.StrictMode,null,s.a.createElement(h,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[10,1,2]]]);
//# sourceMappingURL=main.ada9e13b.chunk.js.map